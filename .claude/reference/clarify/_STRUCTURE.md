# Clarify Path 문서 구조

**최종 업데이트:** 2025-01-12
**상태:** ✅ 완료 및 검증됨

---

## 전체 흐름 (5단계)

```
┌─────────────────────────────────────────────────────────────────┐
│  Step 0: 반복 업무 발견 (사용자 입력)                            │
│  └─ "매일 반복되는 일이 있나요?"                                 │
└────────────────┬────────────────────────────────────────────────┘
                 │
                 ▼
┌─────────────────────────────────────────────────────────────────┐
│  Step 1: 문제 본질 파악 (5분) → 10.1-discomfort-detection.md   │
│  체크리스트: 반복성, 빈도, 시간낭비, 지겨움, 규칙성 (5항목)    │
│  정량화: 월 시간 낭비, 절약 시간, 활용 계획                     │
│  판정: 모두 YES + 월 2시간 이상?                                │
│  ├─ YES → Step 2로 진행                                        │
│  └─ NO → 자동화 제외                                            │
└────────────────┬────────────────────────────────────────────────┘
                 │ YES
                 ▼
┌─────────────────────────────────────────────────────────────────┐
│  Step 2: Task 명확화 (10분) → 10.3-task-clarification.md       │
│                                                                  │
│  Phase 1: 현상 파악 (Fact Check)                               │
│  ├─ Q1: 빈도 (매일/자주/가끔/드물게)                           │
│  ├─ Q2: 소요시간 (5분미만/30분내/1시간내/1시간이상)            │
│  │  └─ 자동 계산: 월 소요시간 (Q1 × Q2 조합)                   │
│  └─ Q3: 규칙성 (예/아니오)                                     │
│                                                                  │
│  Phase 2: 기능 분해 (MVP 정의)                                 │
│  ├─ Q4-Step1: 불편함 감지 (자유 입력)                         │
│  ├─ Q4-Step2: 핵심 기능 정의                                   │
│  ├─ Q4-Step3: 스코프 확정                                      │
│  └─ Q4-Step4: MVP 최소화 (극단화)                              │
│                                                                  │
│  Phase 3: 가치 도출 (Value)                                    │
│  └─ Q5: 목표 (휴식/자기계발/본업/칼퇴)                         │
│                                                                  │
│  Phase 4: 외부 연동 확인                                        │
│  └─ Q6: 외부 서비스 (아니오/예)                                │
│      └─ Task 정의서 생성 (output-template.md)                  │
└────────────────┬────────────────────────────────────────────────┘
                 │
                 ▼
┌─────────────────────────────────────────────────────────────────┐
│  Step 3: 자동화 설계 (20분) → 10.5-automation-architecture.md  │
│                                                                  │
│  1️⃣ 기술 스택 결정                                             │
│  ├─ 파일 처리 / 웹 자동화 / API 연동 / 이메일 / DB / 스크린   │
│  └─ 선택 근거 명시                                              │
│                                                                  │
│  2️⃣ 아키텍처 설계                                              │
│  ├─ 현재 수동 프로세스 정리                                     │
│  ├─ 자동화 흐름: 입력 → 처리 로직 → 출력                       │
│  └─ 에러 처리 전략                                              │
│                                                                  │
│  3️⃣ 구현 계획                                                  │
│  ├─ Phase 1: 기본 기능                                         │
│  ├─ Phase 2: 오류 처리 + 로깅                                  │
│  └─ Phase 3: 최적화 + 모니터링                                 │
│                                                                  │
│  4️⃣ 의존성 + 제약사항 검증                                     │
│  ├─ 필요 라이브러리/도구                                        │
│  └─ 제약사항 해결 방안                                          │
│                                                                  │
│  5️⃣ 성공 지표 재정의                                           │
│  ├─ 정량화된 목표 (시간, %)                                    │
│  └─ 품질 지표 (정확도, 에러율, 가용성)                         │
└────────────────┬────────────────────────────────────────────────┘
                 │
                 ▼
┌─────────────────────────────────────────────────────────────────┐
│  Step 4: 구현 규칙 확인 (5분) → 10.6-implementation-rules.md   │
│                                                                  │
│  환경 요구사항                                                   │
│  ├─ Python 3.11.7 (정확히)                                     │
│  ├─ Git Bash (최신)                                            │
│  └─ OS: Windows / Linux / macOS                                │
│                                                                  │
│  코딩 규칙                                                       │
│  ├─ Python 3.11.7 호환성                                       │
│  │  ├─ Type hints (필수)                                       │
│  │  ├─ f-strings (필수)                                        │
│  │  └─ dataclasses (필수)                                      │
│  └─ Git Bash 호환성                                            │
│     └─ pathlib 사용 (Windows 경로 금지)                        │
│                                                                  │
│  TDD 프로세스                                                    │
│  └─ 테스트 경로: __test__/{YYYYMMDD}_{title}/test_{module}.py  │
│                                                                  │
│  호환성 체크리스트                                               │
│  ├─ Python 3.11.7에서 실행?                                    │
│  ├─ Git Bash에서 실행?                                         │
│  ├─ 한글 입출력 정상?                                          │
│  └─ 모든 테스트 통과?                                          │
└────────────────┬────────────────────────────────────────────────┘
                 │
                 ▼
┌─────────────────────────────────────────────────────────────────┐
│  Step 5: TDD 구현 시작                                          │
│  └─ 테스트 먼저 작성 → 구현 → 리팩토링                          │
└─────────────────────────────────────────────────────────────────┘
```

---

## 문서 파일 가이드

### 1. 10-clarify-path.md (마스터 가이드)
- **역할:** 전체 경로 개요 및 네비게이션 허브
- **대상:** 모든 사용자
- **내용:**
  - 목표 명시
  - 4단계 통합 경로 요약
  - Step 1-4 상세 흐름
  - 전체 워크플로우 다이어그램
  - 다음: 10.1로 시작

### 2. 10.1-discomfort-detection.md (문제 본질 파악)
- **역할:** 반복 업무 검증
- **대상:** 자동화 후보 업무 있는 사용자
- **입력:** 반복 업무 (텍스트)
- **출력:** YES/NO 판정 + 정량화
- **다음:** 10.3-task-clarification.md

### 3. 10.3-task-clarification.md (Task 명확화 - 핵심 문서)
- **역할:** 6가지 질문으로 Task를 구체화
- **대상:** 10.1을 통과한 사용자
- **입력:** "이 업무의 빈도는?" (Q1)
- **출력:** Task 정의서 (자동 생성)
- **구성:**
  - Phase 1: 현상 파악 (Q1-Q3)
  - Phase 2: 기능 분해 (Q4)
  - Phase 3: 가치 도출 (Q5)
  - Phase 4: 외부 연동 (Q6)
- **특징:** 자동 계산 통합 (월 소요시간, 연간 절감)
- **다음:** output-template.md 생성 후 10.5로

### 4. 10.5-automation-architecture-design.md (자동화 설계)
- **역할:** 기술 스택 선택 및 아키텍처 설계
- **대상:** Task 정의서 완료한 사용자
- **입력:** Task 정의서 (10.3 출력)
- **출력:** 설계 산출물 (기술, 아키텍처, 일정)
- **구성:** 5단계 설계
  1. 기술 스택 결정
  2. 아키텍처 설계
  3. 구현 계획
  4. 의존성 + 제약사항
  5. 성공 지표
- **다음:** 10.6-implementation-rules.md

### 5. 10.6-implementation-rules.md (구현 규칙)
- **역할:** 코딩 환경 및 TDD 규칙 확인
- **대상:** 설계 완료한 사용자
- **입력:** 설계 산출물 (10.5 출력)
- **출력:** 호환성 체크리스트 통과
- **구성:**
  - 환경 요구사항 (Python 3.11.7, Git Bash)
  - 코딩 규칙 (Type hints, f-strings, pathlib)
  - TDD 프로세스 (unittest)
  - 호환성 체크리스트
- **다음:** TDD 구현 시작

### 6. output-template.md (산출물 템플릿)
- **역할:** Task 정의서 자동 생성 양식
- **대상:** 10.3 Q1-Q6 완료한 사용자
- **입력:** Q1-Q6 답변
- **출력:** Task 정의서 (Markdown)
- **저장:** `docs/_clarify/clarify_YYYYMMDD_{title}.md`
- **구성:**
  - Level 1: 핵심 필드 (5항목)
  - Level 2: 상세 항목
  - Level 3: 질문 응답 기록
  - 실제 예시: SNS 댓글 분류
- **다음:** /plan 명령어

### 7. question-flow.md (참고용)
- **역할:** Q1-Q6 흐름 다이어그램
- **대상:** 시각적 학습자
- **용도:** 비고 참고
- **유지:** 필수 아님 (삭제 가능)

---

## 핵심 원칙

### One-by-One 원칙 (10.3 실행)
- 한 번에 하나의 질문만 던지기
- 사용자 답변이 올 때까지 다음 질문 안 함
- 순서: Q1 → Q2 → Q3 → Q4 → Q5 → Q6 (고정)

### 자동 계산 (10.3에 통합)
- Q1 + Q2 조합으로 월 소요시간 계산
- 빈도별 월 회수 × 소요시간 평균
- 연간 절감 시간 자동 도출

### 기능 분해 (Q4의 4단계)
1. 불편함 감지 (Pain Point)
2. 핵심 기능 정의 (What)
3. 스코프 확정 (Scope)
4. MVP 최소화 (극단화)

### 외부 연동 판단 (Q6)
- 아니오: Claude Code만으로 충분 → 즉시 Plan Mode
- 예: API 연동 필요 → 서비스명만 수집, 상세는 Plan Mode

---

## 파일 간 의존성

```
10-clarify-path.md (허브)
├─ 참조: 10.1, 10.3, 10.5, 10.6
│
10.1-discomfort-detection.md
├─ 다음: 10.3
│
10.3-task-clarification.md
├─ 참조: output-template.md (출력값)
├─ 다음: 10.5 (설계로)
│
10.5-automation-architecture-design.md
├─ 다음: 10.6 (규칙 확인)
│
10.6-implementation-rules.md
├─ 다음: TDD 구현 시작
│
output-template.md (산출물)
├─ 다음: /plan (구현 설계)
```

---

## 토큰 효율 분석

| 문서 | 라인 | 토큰 | 분류 | 로드 시점 |
|------|------|------|------|---------|
| 10-clarify-path.md | 92 | 2,000 | Level 1 | 항상 |
| 10.1 | 36 | 800 | Level 2 | Step 1 실행시 |
| 10.3 | 501 | 10,000 | Level 2 | Step 2 실행시 |
| 10.5 | 182 | 3,500 | Level 2 | Step 3 실행시 |
| 10.6 | 88 | 1,500 | Level 2 | Step 4 실행시 |
| output-template | 94 | 1,500 | Level 3 | 필요시 |
| **합계** | **993** | **~19,300** | - | - |

**특징:** 각 Step은 독립적으로 로드되므로, 실행 중 필요한 문서만 메모리에 로드됨.

---

**문서 최종 업데이트:** 2025-01-12
**검증 상태:** ✅ 완료
**사용 준비:** ✅ 준비됨
